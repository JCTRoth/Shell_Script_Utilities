= Shell Script Utilities
:toc: left
:toclevels: 3
:sectnums:
:sectnumlevels: 3
:icons: font
:source-highlighter: rouge

A comprehensive collection of shell scripts for Linux system administration, automation, security hardening, and development environment setup.

== Overview

This repository provides enterprise-grade shell scripts designed to automate complex system administration tasks, enhance security, and streamline development workflows. From complete Ubuntu server setup with container orchestration to specialized utilities for package management, backup operations, and multi-platform support.

[.lead]
**Featured:** Production-ready Ubuntu Server Setup • Container Management • Security Hardening • Package Management • Cross-Platform Support

== Quick Navigation

=== Core Utilities
* <<container-docker-kubernetes>> - Complete server setup with Docker & k3s
* <<list-installation>> - Advanced package management system  
* <<backup-tools>> - Automated backup and restore operations
* <<security-hardening>> - SSH hardening, firewall, and intrusion prevention

=== System Administration
* <<system-configurations>> - System optimization and configuration
* <<generate-system-logs>> - Comprehensive system reporting
* <<useful-commands>> - Command-line utilities and shortcuts

=== Multi-Platform Support
* <<other-systems>> - Android, macOS, and cross-platform tools
* <<hardware-support>> - GPIO setup and hardware access management

== Container & Docker & Kubernetes

=== Ubuntu Server Setup Script ⭐

**Enterprise-grade automation for production Ubuntu servers**

A comprehensive, production-ready script that transforms a fresh Ubuntu installation into a fully secured, container-ready server with Kubernetes orchestration.

**Key Features:**
* **Docker CE** - Latest container runtime with optimized configuration
* **k3s (Secured)** - Lightweight Kubernetes with enterprise security hardening
* **Fail2Ban** - Advanced intrusion prevention system  
* **SSHGuard** - Real-time SSH brute-force protection
* **UFW Firewall** - Comprehensive network security
* **SSL Certificates** - Automated Let's Encrypt certificate management
* **SSH Hardening** - Industry-standard security practices
* **Port Obfuscation** - Custom port assignment for enhanced security

**Security Hardening:**
* Pod Security Policies (PSP) and Network Policies
* Kubernetes admission controllers and audit logging
* SSH key-only authentication with custom ports
* Comprehensive error handling and recovery
* Automated security updates

**Scripts:**
* `ubuntu-server-setup.sh` - Main installation and hardening script (2400+ lines)

**Additional Container Tools:**
* `Docker/remove_dengling_images.sh` - Docker image cleanup utility
* `Docker/stop_and_remove_all.sh` - Complete Docker environment reset
* `Kubernetes/delete_all_pods.sh` - Emergency Kubernetes pod management

**Usage:**
[source,bash]
----
# Interactive setup (recommended)  
sudo ./ubuntu-server-setup.sh

# Non-interactive with defaults
sudo ./ubuntu-server-setup.sh --yes

# Preview changes (dry run)
sudo ./ubuntu-server-setup.sh --dry-run
----

**Documentation:** See `Container/README.adoc` for complete documentation with troubleshooting, configuration options, and technical details.

**Location:** `Container/`

---

== List Installation

== Backup Tools

**Comprehensive Backup and Restoration System**

Enterprise-grade backup utilities designed to preserve system configurations, package sources, and file system data with full attribute preservation.

=== Package Source Backup & Restore

**Debian-based system package source management**

Safely backs up and restores package repository configurations and associated GPG keys for Ubuntu, Debian, Linux Mint, and other Debian-based distributions.

**Features:**
* **Complete Source Preservation** - Backs up `/etc/apt/sources.list` and `/etc/apt/sources.list.d/`
* **GPG Key Management** - Preserves and restores repository signing keys
* **Timestamped Backups** - Automatic backup versioning with timestamp organization
* **Interactive Menu System** - User-friendly terminal-based interface
* **Validation and Verification** - Ensures backup integrity before restoration

**Scripts:**
* `Backup_Source_and_Key.sh` - Creates comprehensive backup of package sources and keys
* `Restore_Source_and_Key.sh` - Restores package sources and keys from timestamped backup

**Usage:**
[source,bash]
----
cd Backup_Tools/Backup_and_Restore_Sources
sudo ./Backup_Source_and_Key.sh    # Create backup
sudo ./Restore_Source_and_Key.sh   # Restore from backup
----

**Location:** `Backup_Tools/Backup_and_Restore_Sources/`

=== Folder Backup System

**Advanced file system backup with attribute preservation**

Complete folder backup solution that preserves all file attributes including timestamps, permissions, ownership, and extended attributes. Supports optional compression and incremental backups.

**Features:**
* **Complete Attribute Preservation** - Maintains timestamps, permissions, ownership
* **Compression Support** - Optional gzip/bzip2 compression for space efficiency
* **Interactive Configuration** - Terminal-based setup wizard
* **Progress Monitoring** - Real-time backup progress indication  
* **Integrity Verification** - Checksum validation of backed up data
* **Flexible Destination** - Local and network destination support

**Script:** `Backup_Folder.sh`

**Usage:**
[source,bash]
----
cd Backup_Tools/Backup_Folder
sudo ./Backup_Folder.sh
# Follow interactive prompts for source/destination selection
----

**Location:** `Backup_Tools/Backup_Folder/`

---

== Generate System Logs

**Comprehensive System Monitoring and Reporting**

Advanced system diagnostic and monitoring tools that generate detailed reports about hardware, software, network configuration, and system health for troubleshooting and documentation purposes.

**Scripts:**
* `Generate_Compact_System_Status.sh` - Focused system health report with key metrics
* `Generate_System_Report.sh` - Comprehensive system analysis and documentation

**Report Contents:**
* **Hardware Information** - CPU, memory, storage, USB devices, kernel modules
* **Network Configuration** - Interface status, routing tables, open ports
* **User Management** - System users, groups, authentication methods
* **Package Information** - Installed packages, recent installations, package sources
* **System Performance** - Resource usage, running processes, system load
* **Security Status** - User permissions, authentication logs, security events

**Features:**
* **Timestamped Output** - Automatic report naming with date/time stamps
* **Multiple Formats** - Text reports optimized for analysis and archiving
* **Automated Collection** - Gathers information from multiple system sources
* **Error Handling** - Graceful handling of missing commands or inaccessible data
* **Portable Reports** - Self-contained reports for offline analysis

**Usage:**
[source,bash]
----
cd Generate_System_Logs

# Generate compact system overview
./Generate_Compact_System_Status.sh

# Generate comprehensive system report  
./Generate_System_Report.sh
----

**Output Location:** Reports are saved in the current directory with timestamp naming.

**Location:** `Generate_System_Logs/`

---

=== List Installation

**Advanced Package Management System**

A comprehensive package management system that simplifies the installation, organization, and maintenance of software packages through curated lists and intelligent automation.

**Core Scripts:**
* `package_manager.sh` - Unified package management interface (2000+ lines)
* `install_list.sh` - Enhanced package installation with validation
* `add_pack.sh` - Intelligent package addition with duplicate prevention

**Key Features:**
* **Automated Package Validation** - Verifies package availability before installation
* **Interactive and CLI Modes** - Flexible usage patterns for different workflows  
* **Backup and Restore** - Automatic backup of package lists before modifications
* **Duplicate Prevention** - Intelligent checking to prevent duplicate entries
* **List Management** - Create, merge, search, and organize package lists
* **Error Recovery** - Comprehensive error handling and rollback capabilities

**Usage Examples:**
[source,bash]
----
# Install packages from a curated list
sudo ./install_list.sh ./lists/developer.list

# Add packages to existing lists  
sudo ./add_pack.sh developer.list

# Unified package management
sudo ./package_manager.sh interactive
----

**Pre-Configured Package Lists:**
* `developer.list` - Complete development environment (IDEs, compilers, tools)
* `home_server_installation.list` - Home server software stack
* `install_latex.list` - LaTeX document processing system
* `mint_post_install.list` - Linux Mint post-installation essentials
* `python.list` - Python development ecosystem
* `serverInstallation.list` - Production server packages

**Advanced Operations:**
[source,bash]
----
# Search across all lists
./package_manager.sh search nodejs

# Merge multiple lists  
./package_manager.sh merge list1.list list2.list output.list

# Validate list integrity
./package_manager.sh validate all
----

**Documentation:** See `List_Installation/README.md` for detailed usage instructions and API reference.

**Location:** `List_Installation/`

---

== System Configurations

**System Optimization and Configuration Management**

Advanced system configuration utilities for performance optimization, security hardening, and automated maintenance setup.

**Scripts:**
* `Disable_Window_Animations.sh` - Performance optimization by disabling desktop animations
* `configure-unattended-upgrades/configure-unattended-upgrades.sh` - Automated security update configuration

**Features:**
* **Performance Tuning** - Desktop environment optimization for better performance
* **Automated Updates** - Configurable automatic security patch installation
* **Email Notifications** - Update status reporting via email
* **Reboot Management** - Intelligent system restart handling for critical updates
* **Configuration Validation** - Ensures proper setup before activation

**Usage:**
[source,bash]
----
cd System_Configurations

# Disable animations for better performance
sudo ./Disable_Window_Animations.sh

# Configure automated security updates
cd configure-unattended-upgrades
sudo ./configure-unattended-upgrades.sh --enable enable --email admin@example.com
----

**Documentation:** See `System_Configurations/configure-unattended-upgrades/README.md` for detailed configuration options.

**Location:** `System_Configurations/`

---

== Program Setups  

**Development Environment Automation**

Comprehensive setup scripts for popular development environments, web stacks, and specialized hardware platforms.

**Core Development Environments:**
* `setup_fish.sh` - Fish shell installation and configuration
* `setup_LAMP.sh` - Complete LAMP stack (Linux, Apache, MySQL, PHP) setup
* `setup_nodeJs.sh` - Node.js development environment with npm and tooling

**Specialized Hardware Support:**
* `Pine64_GPIO_Setup/` - GPIO library installation and hardware access setup for Pine64 boards
  - `Install_GPIO_Libs_Pine64.sh` - GPIO library installation
  - `Prepare_Hardware_Access.sh` - Hardware permission configuration
  - Complete Python GPIO library with examples

**Features:**
* **Automated Dependency Resolution** - Handles all required packages and configurations
* **Environment Validation** - Verifies successful installation and configuration
* **User Permission Setup** - Configures appropriate user access for hardware/services
* **Development Tools** - Includes essential development utilities and editors

**Usage:**
[source,bash]
----
cd Program_Setups

# Setup Fish shell as default
sudo ./setup_fish.sh

# Install complete LAMP development stack
sudo ./setup_LAMP.sh

# Setup Node.js development environment
sudo ./setup_nodeJs.sh

# Pine64 GPIO development setup
cd Pine64_GPIO_Setup
sudo ./Install_GPIO_Libs_Pine64.sh
sudo ./Prepare_Hardware_Access.sh
----

**Location:** `Program_Setups/`

---

== Hardware Support

**System Hardware Access and Device Management**

Utilities for resolving hardware access issues, configuring device permissions, and managing specialized hardware requirements.

=== Font Management

**System Font Installation and Management**

* `Add_Fonts/copieToSystem.sh` - Automated system font installation utility

**Features:**
* **Automated Installation** - Copies fonts to appropriate system directories
* **Permission Management** - Sets correct file permissions for system-wide access
* **Font Cache Update** - Refreshes system font cache after installation

=== Device Access Solutions

**Hardware Access Problem Resolution**

==== Android Device Integration  
* `rulesD_Problems/Solve_Android_Mount_Problem/copyToDestination.sh`
* **Purpose:** Resolves ADB and MTP connectivity issues on Linux
* **Features:** Opens required ports, configures udev rules for Android device access

==== Arduino Development Support
* `rulesD_Problems/Solve_Arduino_Upload_Problem/setup_hardware_udev_rules.sh`  
* **Purpose:** Enables Arduino board upload functionality on Linux
* **Features:** Configures udev rules, sets up user permissions for Arduino development

**Usage:**
[source,bash]
----
# Fix Android device connectivity
cd rulesD_Problems/Solve_Android_Mount_Problem
sudo ./copyToDestination.sh

# Enable Arduino uploads
cd ../Solve_Arduino_Upload_Problem  
sudo ./setup_hardware_udev_rules.sh
----

**Location:** `rulesD_Problems/`, `Add_Fonts/`

---

== Image Correction

**Advanced Image Processing and Enhancement**

Professional-grade image processing utilities for batch operations, color correction, and image optimization.

**Scripts:**
* `auto_brightenup_images.sh` - Intelligent automatic brightness and contrast enhancement
* `normalise_images.sh` - Image property normalization and standardization

**Features:**
* **Batch Processing** - Handle multiple images simultaneously
* **Quality Preservation** - Maintains image quality during enhancement
* **Flexible Parameters** - Configurable enhancement settings
* **Format Support** - Works with common image formats (JPEG, PNG, TIFF)
* **Progress Monitoring** - Real-time processing status and completion reporting

**Advanced Capabilities:**
* **Gamma Correction** - Advanced color curve adjustments
* **Histogram Analysis** - Intelligent brightness detection and correction
* **Sigmoidal Contrast** - Professional-grade contrast enhancement
* **Selective Enhancement** - Target-specific image areas for improvement

**Usage:**
[source,bash]
----
cd Image_Correction

# Automatic brightness enhancement for a directory
./auto_brightenup_images.sh /path/to/images

# Normalize image properties
./normalise_images.sh /path/to/images
----

**Documentation:** See `Image_Correction/Readme.md` for detailed parameters and examples.

**Location:** `Image_Correction/`

---

== Useful Commands

**Command-Line Reference and System Administration Utilities**

A curated collection of essential command-line utilities, shortcuts, and system administration tools for daily Linux operations.

**Categories:**
* **Database Operations** - MySQL dump and restore commands
* **System Monitoring** - Performance monitoring and resource tracking utilities
* **Network Diagnostics** - Network analysis and troubleshooting tools
* **File Operations** - Advanced file search and manipulation commands
* **System Control** - Power management, service control, and system state commands

**Key Utilities:**
* `Dump_SQL_File_from_MySql` - Database backup and export commands
* `find` - Advanced file search patterns and examples
* `hibernate.sh` - System power management and suspend operations
* `measure_time` - Command execution timing and benchmarking
* `radeon_top.sh` - AMD GPU monitoring and performance analysis
* `tasksel` - Debian/Ubuntu task selection and bulk package management
* `Wifi_Link_Quality` - Wireless network diagnostics and optimization

**Location:** `Usefull_Commands/` *(directory name preserved as-is)*

---

== Other Systems

**Multi-Platform Support and Cross-Platform Utilities**

Comprehensive tools for managing and administering non-Linux systems including Android devices and macOS environments.

=== Android System Management

**Android Device Administration and Security**

Advanced tools for Android device management, system analysis, and bloatware removal with ADB integration.

**System Reporting:**
* `Generate_Android_System_Report.sh` - Comprehensive Android device analysis
  - **Battery Information** - Detailed battery health, temperature, and charging status
  - **System Performance** - CPU usage, memory statistics, storage analysis
  - **Network Configuration** - WiFi settings, cellular information, connectivity status
  - **Security Status** - Encryption status, security patch level, permission analysis
  - **Hardware Details** - Device specifications, sensor information, build properties

**Bloatware Management:**
* `adb_bloatware_remover/` - Professional Android app management suite
  - `adb_bloatware_remover.sh` - Safe bloatware removal with comprehensive safeguards
  - `bloatware.list` - Curated list of commonly removable applications  
  - `blacklist.list` - Protected system applications (never remove)
  - `disable.list` - Applications to disable rather than uninstall

**Key Features:**
* **Safety First Approach** - Mandatory blacklist prevents system damage
* **Backup Capabilities** - APK backup before removal for recovery
* **Dry-Run Mode** - Preview actions before execution
* **Batch Operations** - Process multiple applications efficiently
* **Detailed Logging** - Comprehensive operation logs with timestamps
* **Recovery Options** - Restoration capabilities for accidentally removed apps

**Usage Examples:**
[source,bash]
----
cd Other_Systems/Android

# Generate comprehensive system report
./Generate_Android_System_Report.sh

# Safe bloatware removal (preview mode)
cd adb_bloatware_remover
./adb_bloatware_remover.sh --dry-run bloatware.list

# Remove bloatware with backup
./adb_bloatware_remover.sh --apply --backup --action uninstall bloatware.list
----

**Documentation:** See `Other_Systems/Android/README.md` and `adb_bloatware_remover/README.md` for detailed usage instructions.

=== macOS System Utilities

**macOS Administration and NTFS Drive Management**

Specialized utilities for macOS system administration, particularly focused on enterprise environments and NTFS drive management.

**Scripts:**
* `agree_to_xcode.sh` - Automated Xcode license agreement for CI/CD pipelines
* `Eject_All_Ntfs_Drives.sh` - Mass NTFS drive ejection for system maintenance
* `Mount_All_Ntfs_Drives.sh` - Automated NTFS drive mounting with proper permissions
* `Run_Install.sh` - Automated installation script with daemon configuration

**Enterprise Features:**
* **Automated Licensing** - Streamlines Xcode setup in development environments
* **Drive Management** - Batch NTFS operations for mixed-platform environments  
* **Daemon Integration** - LaunchDaemon setup for system-level automation
* **Permission Management** - Proper user and system permission configuration

**Usage:**
[source,bash]
----
cd Other_Systems/MacOs

# Accept Xcode license (for automated builds)
sudo ./agree_to_xcode.sh

# Mount all NTFS drives
sudo ./Mount_All_Ntfs_Drives.sh

# Install automation daemons
sudo ./Run_Install.sh
----

**Location:** `Other_Systems/`

---

== Interactive Learning

=== Zenity Learning by Example

**Interactive GUI Dialog Development Tutorial**

A comprehensive, hands-on tutorial script demonstrating Zenity dialog creation for GUI automation and user interaction in shell scripts.

**Learning Topics:**
* **Basic Dialogs** - Question boxes, information displays, entry fields
* **Advanced Widgets** - File selection, checklists, progress bars  
* **User Input Handling** - Text entry, password fields, option selection
* **Error Handling** - User cancellation, input validation, error recovery
* **Window Management** - Size control, positioning, styling options

**Interactive Features:**
* **Step-by-Step Learning** - Progressive complexity with guided examples
* **Real-Time Feedback** - Immediate results for each dialog type
* **Practical Examples** - Real-world usage scenarios and patterns
* **Code Inspection** - Well-commented source code for learning

**Script:** `Zenity_Learning_By_Example.sh`

**Usage:**
[source,bash]
----
# Start interactive tutorial
./Zenity_Learning_By_Example.sh
----

**Location:** Root directory

---

== Installation and Usage

=== Quick Start

[source,bash]
----
# Clone the repository
git clone https://github.com/JCTRoth/Shell_Script_Utilities.git
cd Shell_Script_Utilities

# Make scripts executable
find . -name "*.sh" -type f -exec chmod +x {} \;

# Navigate to desired utility
cd Container  # For server setup
cd List_Installation  # For package management
cd Backup_Tools  # For backup operations
----

=== System Requirements

**Minimum Requirements:**
* Linux operating system (Ubuntu 18.04+, Debian 9+, or equivalent)
* Bash shell (version 4.0+)
* Root/sudo privileges for system modifications
* Basic system utilities (curl, wget, grep, sed, awk)

**Recommended for Full Functionality:**
* Ubuntu 20.04 LTS or newer
* 4GB RAM (for container/Kubernetes operations)
* 20GB free disk space
* Active internet connection
* Development tools (for programming environment setups)

=== Usage Patterns

==== Individual Script Usage
[source,bash]
----
# Most scripts can be run individually
sudo ./script_name.sh

# Many scripts support help documentation
./script_name.sh --help
----

==== Interactive vs Non-Interactive
[source,bash]
----
# Interactive mode (recommended for learning)
sudo ./ubuntu-server-setup.sh

# Non-interactive/automated mode  
sudo ./ubuntu-server-setup.sh --yes
----

==== Preview Mode (Dry Run)
[source,bash]
----
# Preview changes without making modifications
sudo ./script_name.sh --dry-run
./script_name.sh --simulate
----

=== Safety and Best Practices

1. **Always Review Scripts** - Examine script contents before execution
2. **Use Dry-Run Mode** - Preview changes when available
3. **Backup Important Data** - Use backup utilities before system changes
4. **Test in Virtual Machines** - Validate scripts in isolated environments
5. **Check Prerequisites** - Ensure system meets script requirements
6. **Monitor Logs** - Review generated log files for issues

---

== Support and Contributing

=== Documentation
* **Primary Repository:** https://github.com/JCTRoth/Shell_Script_Utilities
* **Individual READMEs:** Each major directory contains specific documentation
* **Code Comments:** Extensive inline documentation for learning and modification

=== Community Guidelines
* **Bug Reports:** Include system information, error logs, and reproduction steps
* **Feature Requests:** Describe use cases and potential security implications  
* **Code Contributions:** Follow existing code style and include comprehensive testing
* **Security Issues:** Report security concerns through private channels

=== Development Setup
[source,bash]
----
# Fork and clone repository
git clone https://github.com/YOUR_USERNAME/Shell_Script_Utilities.git
cd Shell_Script_Utilities

# Create feature branch
git checkout -b feature/new-feature-name

# Test changes thoroughly
bash -n script_name.sh  # Syntax check
./script_name.sh --dry-run  # Functional test

# Submit pull request with detailed description
----

---

== License

This project is licensed under the MIT License - see the link:LICENSE[LICENSE] file for details.

### MIT License Summary
* **Commercial Use** - ✓ Permitted
* **Modification** - ✓ Permitted  
* **Distribution** - ✓ Permitted
* **Private Use** - ✓ Permitted
* **Liability** - ✗ No warranty provided
* **License Notice** - Required in distributions

---

*Shell Script Utilities Collection*  
*Comprehensive Linux system administration and automation*  
*Version: 2025.12 • Last Updated: December 14, 2025 • Maintainer: Jonas*

---

=== Other Systems

Scripts for additional operating systems and platforms.

==== Android

**Scripts:**

* `Generate_Android_System_Report.sh` – Generate Android system reports

**Location:** `Other_Systems/Android/`

* `Remove_Android_Bloatware.sh` –

Safely preview and remove or disable Android packages (bloatware) over ADB. \
Takes a blacklist file (Apps never to remove, negative list) and a bloatwear.list. \
You can use the here provided files or create your own ones.

==== MacOS

**Scripts:**

* `agree_to_xcode.sh` – Automate Xcode license agreement
* `Eject_All_Ntfs_Drives.sh` – Eject all NTFS drives
* `Mount_All_Ntfs_Drives.sh` – Mount all NTFS drives
* `Run_Install.sh` – Run installation scripts

**Location:** `Other_Systems/MacOs/`

---

=== Zenity Learning By Example

Interactive script demonstrating Zenity dialog usage.

**Script:** `Zenity_Learning_By_Example.sh`

**Location:** Root directory

== Installation

1. Clone the repository:
+
[source,bash]
----
git clone https://github.com/JCTRoth/Shell_Script_Utilities.git
cd Shell_Script_Utilities
----

2. Make scripts executable:
+
[source,bash]
----
find . -name "*.sh" -type f -exec chmod +x {} \;
----

3. Run scripts with appropriate permissions (some require sudo):
+
[source,bash]
----
sudo ./script.sh
----

== Requirements

* Linux operating system
* Bash shell
* Standard Unix utilities (grep, sed, awk, etc.)
* Root privileges for system modifications

== Usage Examples

=== Installing Development Tools

[source,bash]
----
cd List_Installation
sudo ./install_list.sh ./lists/developer.list
----

=== Setting up Node.js

[source,bash]
----
cd Program_Setups
sudo ./setup_nodeJs.sh
----

=== Backing up Package Sources

[source,bash]
----
cd Backup_Tools/Backup_and_Restore_Sources
sudo ./Backup_Source_and_Key.sh
----

=== Adding a Package to a List

[source,bash]
----
cd List_Installation
sudo ./add_pack.sh
----
